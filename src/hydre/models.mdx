---
name: Models
route: /hydre/models
menu: Hydre
---

# Models

Définition des structures commune pour les modules du projet.

## User

Un utilisateur peut être sous deux formes (pour le moment),
* Celle d'une personne connecté: `regular`
* Celle d'une personne anonyme (non connecté): `anonymous`

Tous les types d'utilisateurs sont accompagnés dans champ `id`.

### Regular User

C'est un client connecté, type noté `regular`.

```json
{
    "type": "regular",
    "id": "a7591b95-bd26-4580-a194-c0116d743ffb",
    "roles": ["ADMIN"]
}
```

### Anonymous

Un client qui n'a pas fourni d'information permettant de l'identifier, type noté `anonymous`.

```json
{
    "type": "anonymous",
    "id": "8bcd1262-f6e5-4ae6-bd14-f00a928cda34"
}
```

## Request

Une requête formée grâce au schéma d'un RPC avec RabbitMQ.
* `executor` est l'utilisateur qui a fait la requête (voir [User](/hydre/models#user)).
* `data` les données demandées par le service demandé.

```json
{
    "executor": {
        "type": "anonymous",
        "id": "8bcd1262-f6e5-4ae6-bd14-f00a928cda34"
    },
    "data": {
        "a": 5,
        "b": 10
    }
}
```
